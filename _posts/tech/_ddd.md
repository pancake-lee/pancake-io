## DDD 领域驱动

### 前言

应该在有一定开发经验之后，再系统学习 DDD，否则很容易纸上谈兵。
如果只是读写用户表和项目表，把用户加入项目或从项目移除。
那么其代码量甚至不足以套到 DDD 的概念里面。
为了实现 DDD 理论上的各个层次产生的额外代码，可能超过了“有效代码”。

### 贫血模型和充血模型

首先 DDD 是倾向于充血模型的。

贫血模型：是指领域对象里只有 get 和 set 方法（POJO），所有的业务逻辑都不包含在内而是放在 Business Logic 层。

充血模型：是指数据和对应的业务逻辑被封装到同一个类中。因此，这种充血模型满足面向对象的封装特性，是典型的面向对象编程风格。

相比下贫血模型的对象更倾向于“我只是一份数据”，好处是灵活。
做一个需求时，脑子里可能很快想到，“我应该修改数据库中某个字段”。

而充血模型更倾向于思考“我的对象应该实现一个某个新能力”。
但又可能很容易掉入另一个问题（纠结）中：“我应该在 A 对象实现这个能力，还是 B 对象中实现”。
具体一点的例子可以想象：

- 应该：订单对象将“收取”用户对象的资金
- 或者：用户对象将“支付”订单对象的费用
- 还是：
  - 平台对象“查询”订单对象的费用
  - 平台对象“收取”用户对象的资金
  - 平台对象“修改”订单对象为已支付

这样的问题可能没有标准答案，你可能因此和同事争论很久也说服不了谁。算了吧，其实后果并没有那么严重，别浪费生命，谁写代码就按谁的理念去做就好了。如果这些分歧有重大的影响，找领导选其中一个就好了。
